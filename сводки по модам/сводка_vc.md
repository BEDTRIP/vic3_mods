### Общая идея `Victorian Century` (сверено по реальным файлам мода)

**Victorian Century** — крупный геймплейный/исторический оверхаул + country flavor pack, который заметно меняет ванильную Victoria 3 (см. `.vanillaVIC3`) через:

- **переработку экономики POP-ов** (потребности, “пакеты покупок” по уровню благосостояния, часть базовых define’ов);
- **усиление и детализацию имперской/колониальной игры** (типы субъектов, дипломатические действия, колониальные/имперские Журналы);
- **национальную дифференциацию политической жизни** (законы, идеологии и ИГ, партии и движения);
- **перепрошивку техдерева** так, чтобы технологии сильнее влияли на политику/идеологии и стратегию ИИ;
- **масштабные правки карты/ресурсов** (полная замена `map_data/state_regions/*`);
- **добавление/переработку контента стран** (Журналы, события, решения, персонажи/шаблоны правителей);
- **UI/фид “новостей” + большой музыкальный набор** (музыка по регионам/странам, категории плеера, интерфейсные иконки).

Ниже — что именно меняется относительно ванили, по разделам.

---

### Прямые замены ванильных файлов (идентичные пути)

Мод кладёт файлы ровно по тем же путям, что и ваниль (`.vanillaVIC3/game/...`), поэтому ванильные версии **заменяются**:

- **Карта/штаты**: `map_data/state_regions/00_*.txt … 99_seas.txt`  
→ полностью переписаны параметры штатов (ресурсы/лимиты, arable land, трейты, местами структура ресурсов), что меняет экономическую географию кампании.
- **Журнал-группы**: `common/journal_entry_groups/00_journal_entries.txt`  
→ меняет состав/разделение Журналов, чтобы подключить новые и переработанные цепочки.
- **Ванильные Журналы (переписаны/расширены)**:
  - `common/journal_entries/00_german_unification.txt`
  - `common/journal_entries/00_meiji_restoration.txt`
  - `common/journal_entries/00_peoples_springtime_je.txt`
  - `common/journal_entries/01_french_monarchism.txt`
  - `common/journal_entries/01_natural_borders_of_france.txt`
  - `common/journal_entries/03_russia.txt`
  - `common/journal_entries/04_india_home_rule.txt`
  - `common/journal_entries/04_sepoy_mutiny.txt`
  - `common/journal_entries/00_canada_australia.txt`
- **Партии**: `common/parties/conservative_party.txt`, `liberal_party.txt`, `radical_party.txt`  
→ меняет партийные шаблоны/состав (влияя на политику и ИГ-поведение).
- **Культурные общины**: `common/script_values/cultural_community_values.txt`  
→ меняет численные параметры механики cultural communities.
- **События**:
  - `events/russia_events.txt` → небольшая правка ванильного файла (в моде упор на монархические/династические цепочки через `REPLACE_OR_CREATE`).
  - `events/victoria_events.txt` → в моде оставлен только `victoria.1` (остальные ванильные события из этого файла фактически убраны заменой файла).
- **Решения**:
  - `common/decisions/manifest_destiny.txt` → в моде это `#nothing` (ванильная ветка/решения Manifest Destiny фактически отключены заменой файла).
- **Дипломатическое действие**:
  - `common/diplomatic_actions/37_subjects_decrease_autonomy.txt` → расширены условия/проверки `da_decrease_autonomy` (в т.ч. особые ограничения для кейсов вроде GBR + chartered company).

---

### Базовый баланс и правила игры

- `**common/defines/joi_defines.txt**`  
  - **Рабочая доля населения**: `WORKING_ADULT_RATIO_BASE = 0.30` — базовая доля трудоспособных изменена относительно ванильных значений, влияя на соотношение рабочих и иждивенцев.  
  - **Культурные общины**: заданы таймер и шанс появления/затухания культурных общин в штатах (`CULTURAL_COMMUNITY_LINGER_TIME_WEEKS`, `CULTURAL_COMMUNITY_MAX_PER_MONTH_CHANCE`) — мод явно опирается на механику “cultural communities” (расширение vanilla).  
  - **Колонизация**: сильно поднят мультипликатор прав на колонизацию и настроены минимальные/максимальные темпы роста колоний (`COLONIZATION_RIGHTS_GROWTH_MULTIPLIER = 3`, `MIN/MAX_BASE_COLONIAL_GROWTH`, `MAX_COLONIAL_GROWTH`).  
  - **Дальность прорисовки “городских дальних зданий”**: правит `NCities` cut-off (визуально/производительность).  
  → **По факту:** колонизация быстрее и агрессивнее, чем в ваниле, плюс более явное присутствие культурных диаспор.
- `**common/defines/joi_ai.txt**`  
  - Меняет поведение автономных инвестиций ИИ (в т.ч. убирает рандомизацию и сильнее привязывает выбор к прибыли/“индустриальным” и “военным” товарам), плюс настраивает параметр выхода из договоров.
- `**common/ai_strategies/**`  
  - Дополнительные AI-стратегии для политики и субъектов, чтобы крупные державы и их автономии историчнее себя вели (имперские приоритеты, особые дипломатические шаблоны).
- `**common/game_rules/joi_game_rules.txt**`  
  - Добавляет игровые правила (переключатели) для: “headlines” (фид новостей), Берлинской конференции, лимита миграции при сверхурбанизации, функциональных flavor-решений, а также уровней AI-enhancement.

---

### Законы (`common/laws`)

Файлы `joi_*.txt` добавляют и/или перерабатывают ванильные закон-группы:

- **Экономика (`joi_economic_system.txt`)**  
  - Пример: `**law_gram_swaraj**` (деревенский/аграрный строй) — дочерний от `law_agrarianism`, доступен Индии (BIC, Бхарат).  
  - Дает: очень сильные бонусы аграрке и плантациям, штрафы индустрии/строительству, низкую ЗП, повышение рождаемости, облегчение кредитов, настройку приватных инвестиций/национализации.  
  → **По сравнению с ванилью:** появляются сильно более специализированные “историко-национальные” экономические законы, заточенные под конкретные страны (Индия, Османы и др.), а не просто стандартный набор аграризм/ЛФ/госкапитализм и т.п.
- **Остальные файлы (`joi_taxation`, `joi_citizenship`, `joi_distribution_of_power`, `joi_education_system`, `joi_policing`, `joi_trade_policy`, `joi_bureaucracy`)**  
  - Расширяют линейки законов или меняют эффекты/условия, чтобы:
    - связать их с новыми Журналами и техами;
    - дать уникальные комбинации для отдельных стран (например, особые бюрократические или налоговые модели для империй).

---

### Экономика POP-ов: потребности и уровни благосостояния

- `**common/pop_needs/joi_pop_needs.txt**`  
Все `popneed_*` описаны через `REPLACE_OR_CREATE`, то есть меняют ванильную структуру спроса:
  - перераспределены веса и допустимые товары для базовых нужд и “роскоши”;
  - используются настройки obsession + prestige goods (например, опиум/чай/кофе, радио и т.п.).  
  → **Суть:** POP-ы потребляют иначе, чем в ваниле, что перестраивает прибыльность отраслей и торговлю.
- `**common/buy_packages/joi_buy_packages.txt**`  
`REPLACE_OR_CREATE:wealth_1 … wealth_XX` — мод заново задаёт наборы покупок и политическую силу по уровням wealth.  
→ **Суть:** иначе масштабируются потребности и политическое влияние страт по уровню благосостояния.
- `**common/building_groups/joi_building_groups.txt**`  
Меняет параметры `bg_mining` (в т.ч. делает ресурс discoverable), влияя на “геологию”/разведку и развитие добычи.

---

### Технологии (`common/technology/technologies`)

В файлах `joi_production.txt` и `joi_society.txt` большинство записей идут как `REPLACE_OR_CREATE`, то есть **переписывают ванильные технологии и добавляют им новые эффекты**.

- **Примеры производства (`joi_production.txt`):**
  - `**railways**`:  
    - Меняет требования (unlock через `mechanical_tools` и `atmospheric_engine`), добавляет модификатор к влиянию цен на рыночный доступ; AI-вес заточен под индустриальные/ресурсные стратегии.  
    - → Ранние рельсы становятся логичнее связаны с ранней механизацией и сильнее вписаны в экономику.
  - `**sericulture**`:  
    - Делает шелк и сельское хозяйство важнее: + throughput шелковых плантаций, +занятость в аграрке.  
    - → Больше смысла развивать шелк/аграрку там, где это исторично.
- **Примеры общества (`joi_society.txt`):**
  - `**human_rights**`:  
    - При исследовании меняет идеологии у `ig_devout` и `ig_petty_bourgeoisie` при выполнении ряда условий (свобода совести, уровни голосования, свободы собраний).  
    - Добавляет бонусы к соцзащите, минимуму зарплат и т.д.  
    - → Техи сильнее и динамичнее двигают идеологии, а не только открывают институты.
  - `**corporatism`, `socialism`, `nationalism`, `civilizing_mission`, `organized_sports` и др.**  
    - Каждая технология:  
      - при исследовании **точечно перепрошивает идеологии** разных ИГ (церковь, профсоюзы, промышленники, сельские и т.п.);  
      - меняет политическую карту: больше наций-националистов, колонизаторов, социалистов;  
      - усиливает/ослабляет радикализацию, институты, минимальную зарплату.
    - → В отличие от ванили, технологическое дерево становится главным драйвером **эволюции идеологий и политической системы**, а не просто набором числовых бонусов.

---

### Институты влияния: Interest Groups (`common/interest_groups` + `interest_group_traits`)

- `**common/ideologies/joi_ig_ideologies.txt` + `common/ideologies/joi_leader_ideologies.txt**`  
  - Добавляет/перерабатывает наборы идеологий, которыми затем оперируют ИГ и лидеры (в т.ч. “национальные” варианты).
- **IG вооружённых сил (`joi_armed_forces.txt`)**  
  - Через `REPLACE_OR_CREATE:ig_armed_forces` задаётся:
    - Базовый набор идеологий и трейтов.  
    - Очень развитый `on_enable`: для **каждой крупной державы/культуры** (Китай, Британия, Пруссия/Германия, Россия, США, Австрия, Япония, Италия, Испания, Османы, колониальные формирования и т.п.) армия получает **уникальный набор IG-трейтов** (например, прусский офицерский корпус, “сердце дуба” британцев и т.п.), иногда уникальные имена.  
    - Изменение идеологий при выполнении исторических условий (реформы в России, Танзимат в Турции, падение самураев и т.п.).  
    - Настройки `pop_potential` и `pop_weight`: кто с большей вероятностью вступает в ИГ (солдаты/офицеры/аристократы, региональные модификаторы, европеец в колониальных армиях и т.д.).  
    → **По сравнению с ванилью:** ИГ армии становятся гораздо более исторично дифференцированными, зависят от страны, культуры, DLC и хода кампании.
- **IG промышленников (`joi_industrialists.txt`)**  
  - Аналогично:  
    - В Британии, США, Пруссии/Германии, Австрии, Османской империи, Италии, Испании, Швеции, Бразилии, колониальных компаниях — свои наборы идеологий и трейтов.  
    - Есть особый случай для Ост-Индской компании и прочих chartered companies: они получают более колониальную, “энклавистскую” идеологию, перераздачу трейтов и даже собственное имя IG.  
    - Тонкая настройка, какие POP-тип/культура с какой вероятностью попадают в IG (капиталисты, инженеры, лавочники в Пруссии, европейцы в Индии и т.п.).  
    → **Мод сильно “национализирует” промышленников**, делая капитализм Британии, Германии, США и колониальных компаний разным по сути, а не только по цифрам.
- `**interest_group_traits/joi_group_traits.txt**`  
  - Дополнительные/переработанные IG-трейты, на которые ссылаются вышеописанные IG, усиление flavor и механики (уникальные бонусы для конкретных стран/империй).

---

### Компании (`common/company_types/joi_companies.txt`)

- Файл полностью набит `REPLACE_OR_CREATE:company_...` для **исторических компаний**:
  - Armstrong Whitworth, Ford, Royal Arsenal, Rheinmetall, Krupp и десятки других — с историческими иконками, HQ в конкретных штатах, привязкой к конкретным отраслям (артиллерия, корабли, автомобили, сталь, вооружение).  
  - Каждая компания:
    - имеет **строгие условия появления**: определённые технологии, наличие нужных зданий на уровне X в конкретном штате/регионе, нужная культура/страна;  
    - даёт очень характерные `prosperity_modifier` (боевые бонусы, throughput, скорость войск и т.п.);  
    - имеет AI-таргеты строительства, чтобы ИИ развивал базу под соответствующие компании.
    → **Относительно ванили:** система компаний становится ключевым элементом “национальных промышленных чемпионов”, тесно завязанным на регионы и отрасли, а не просто симпатичными модификаторами.

---

### Журналы и исторические линии (`common/journal_entries` и `history`)

- `**journal_entries/***`  
  - Мод добавляет много новых цепочек (и переписывает часть ванильных — см. раздел “Прямые замены ванильных файлов”). По файлам это выражено, например, так:
    - Британия/империя/Индия: `british_empire.txt`, `british_raj.txt`, `united_kingdom.txt`
    - Пруссия/Германия: `prussia_kingdom.txt`, `deutsch_vaterland.txt` (+ правка ванильного `00_german_unification.txt`)
    - Франция: `french_empire.txt`, `french republic.txt` (+ правки ванильных `01_french_monarchism.txt` и `01_natural_borders_of_france.txt`)
    - Россия: `russia_mother.txt` (+ правка ванильного `03_russia.txt`)
    - Китай: `china_dynasty.txt`
    - Япония: `japan_empire.txt` (+ правка ванильного `00_meiji_restoration.txt`)
    - Османы: `ottoman_empire.txt`
    - США: `united_states.txt`
    - Мировые/системные ветки: `berlin_conference.txt`, `01_scramble_for_africa.txt`, `economic_crisis.txt`, `mining_development.txt`, `government_leaders.txt`, `ai_unique.txt`, `expand_journal.txt`, `01_prohibition_laws.txt`, `austrian_empire.txt`
    → **По сравнению с ванилью:** исторические линии сильно расширены и “собраны” вокруг имперской/национальной фантазии конкретной страны, с кучей условий владения штатами, статусов субъектов, переменных прогресса.
- `**history/countries/*.txt**`  
  - Для Австрии, Бразилии, Китая, Британии, Франции, Японии, Нидерландов, Пруссии, России, Османов, США и др. заданы отдельные файлы истории:
    - стартовые законы, отношения, ИГ-настройки, переменные для их ЖЕ;  
    - стартовые компании/переменные для будущих событий.  
    → Стартовая позиция крупных стран заметно отличается от ванили: более историчные законы, заготовки под цепочки реформ, войн и распадов.

---

### Прочие важные вещи в `common`

- **Страны/культуры/флаги/названия**
  - `common/cultures/joi_cultures.txt`, `common/discrimination_traits/joi_*` → новые культурные группы/наследия/традиции и связанная дискриминация.
  - `common/dynamic_country_names/joi_dynamic_country_names.txt` → динамические имена стран.
  - `common/flag_definitions/joi_flag_definitions.txt` + `common/coat_of_arms/...` → доп. флаги/гербы (в т.ч. для “Imperial Federation”).
  - `common/country_definitions/joi_imp_countries.txt` + `common/country_formation/joi_imperial_federation.txt`, `jol_major_formables.txt` → новые/переработанные формируемые страны (включая Imperial Federation и набор major formables).
- **Типы правления**
  - `common/government_types/joi_monarchies.txt`, `joi_republics.txt` → новые/дополненные типы правления, используемые в событиях/Журналах и условиях.
- `**subject_types/joi_subject_types.txt**`  
  - Новые/переработанные типы субъектов (доминионы, компании, зависимые государства) с более детализированными параметрами, чтобы отразить реальные структуры империй XIX века.
- `**diplomatic_actions`, `treaty_articles**`  
  - Доп. дипломатические действия и статьи договоров, завязанные на имперские и колониальные механики (особые миры, колониальные условия, британские/индийские кейсы и т.п.).
- `**scripted_effects`, `scripted_triggers`, `scripted_progress_bars`, `scripted_buttons**`  
  - Библиотека эффектов/триггеров для ЖЕ и событий (Германия, Британия, Китай, Османы, Индия, США и др.), плюс прогресс-бары для “длинных” исторических процессов (реформы, войны, имперское строительство).
- `**state_traits` и `static_modifiers**`  
  - Новые трейт-штаты (каналы, новые ресурсы, реки) и статические модификаторы для кода и flavor-модификаторов, расширяющие карту ресурсами и стратегическими чертами.

---

### События, решения, персонажи и “новости”

- **События (`events/`)**  
  - Добавлены крупные наборы “flavor events” по регионам/странам (`joi_flavor_*`), события “great man”, “government leaders”, а также отдельные события по labor contracts.  
  - **Правки ванили**:
    - `victoria_events.txt` в моде содержит только `victoria.1` (персональная уния Ганновера и скриптовые эффекты для GBR/HAN), остальные ванильные события из этого файла убраны заменой файла.
    - `russia_events.txt` немного изменён и дополняется династическими цепочками через модовые on_action’ы/шаблоны персонажей.
- **Решения (`common/decisions/`)**
  - Добавлены/расширены flavor-решения (в т.ч. Crimean War и “AI unique” решения).  
  - **Ванильный `manifest_destiny.txt` отключён** заменой на `#nothing`.
- **Персонажи и шаблоны (`common/character_templates/*`)**  
  - Дополнительные шаблоны исторических правителей/наследников и связанная логика появления через `on_actions` (например, цепочки наследования для отдельных монархий).
- **“Headlines” (новостной фид)**
  - `common/messages/headlines_messages.txt` + `common/on_actions/headlines_on_actions.txt` + `gui/headlines_texticons.gui`  
  → добавляет систему периодических уведомлений-новостей о крупных событиях мира (формации, распады, революции, особые country events).

---

### Музыка, графика, локализация, упаковка DLC

- **Музыка/саундтрек**
  - `music/joi_*_bgm.txt` + `music/music_player_categories/joi_categories.txt` показывает категории и плейлисты.
  - `soundtrack/joi_*_music/*.mp3` — большой набор треков (страны/регионы: GBR/FRA/GER/RUS/USA/CHI/JAP/RAJ/AUS/и т.д.).
- **GFX/UI**
  - `gfx/interface/icons/...` — множество новых иконок (DLC-иконка, company icons, специальные joi-иконки, news-иконки и т.п.).
  - `gfx/event_pictures/*` — дополнительные изображения для событий.
  - `gui/00_MDF_frontend_dlc.gui` — подключение DLC/UI-элементов для фронтенда.
- **Локализация**
  - `localization/english/*.yml` и `localization/simp_chinese/.../*.yml` — строки для новых/изменённых Журналов, событий, законов, компаний, UI “headlines” и пр.
- **Упаковка как DLC**
  - `dlc/dlc_vc/*` + `dlc_metadata/vc_dlc_metadata.txt`: DLC-описание (steam id `3219394272`), `mp_synced = yes`, `affects_save_compatibility = yes`.

---

### Краткий итог по сравнению с ванильной Victoria 3

- **Мод глубоко перепрошивает ванильные системы**:  
  - экономика POP-ов (потребности + wealth-пакеты), законы, технологии, идеологии/ИГ, компании/престиж-товары, дипломатия/субъекты, контент стран (Журналы/события/решения), AI-настройки.
- **Карта**: полностью заменены `state_regions`, перераздана база ресурсов/пахотных земель/трейтов по миру.
- **Фокус модификации** — сделать:
  - **великие державы и их империи** (особенно Британскую, Германскую, Российскую, Османскую, колониальные компании) максимально историчными по законам, ИГ, компаниям и цепочкам задач;  
  - экономику и потребление более реалистичными и “острыми”, чтобы выбор отраслей и торговых товаров действительно имел вес;  
  - технологии — драйвером политических и социальных изменений, а не просто числовыми бонусами.

